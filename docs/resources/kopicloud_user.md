---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "kopicloud_user Resource - KopiCloud AD Provider"
subcategory: ""
description: "KopiCloud AD Provider - kopicloud_user (Resource)"
---

# kopicloud_user (Resource)
[![Terraform](https://img.shields.io/badge/terraform-v1.3+-blue.svg)](https://www.terraform.io/downloads.html) 
[![KopiCloud_AD_API](https://img.shields.io/badge/kopiCloud_ad-v1.0+-blueviolet.svg)](https://www.kopicloud-ad-api.com)

Create, Update, or Delete an Active Directory User

## Example Usage

Create an AD User:
```
resource "kopicloud_user" "test" {
  username     = "cgomez"
  password     = "P@ssword"
  first_name   = "Carolina"
  initials     = "D"
  last_name    = "Gomez"
  display_name = "Carolina D Gomez"
  description  = "DevOps Engineer"

  change_password_next_logon = true
  password_never_expires     = false
  
  city     = "Lisbon"
  state    = "Lisbon"
  country  = "Portugal"
  street   = "Av Liberdade 245"
  zip_code = "1049"
  po_box   = "PO BOX 123"

  mobile_phone = "+351 123 456 999"
  office_phone = "+351 212 333 454"
  home_phone   = "+351 711 212 786"
  
  company       = "KopiCloud Labs"
  department    = "Laboratory"
  email_address = "carolina.gomez@kopicloud.net"
  office        = "Level 3, Office 67"
  job_title     = "DevOps Lab Engineer"
  
  profile_path         = "\\\\server\\profile\\user"
  profile_logon_script = "\\\\server\\script\\logon-user.cmd"
  
  rds_allow_logon  = true
  rds_profile_path = "\\\\rdsserver\\userprofile2"

  rds_connect_drive     = true
  rds_home_folder_drive = "R:"
  rds_home_folder_path  = "\\\\rdsserver\\homefolder2"
}
```

Return the New AD User:
```
output "OUTPUT_new_user" {
  description = "Created AD User"
  value       = resource.kopicloud_user.test
}
```

## Notes

**Note #1** Running this resource with `terraform apply` will create or update the AD User and running `terraform destroy` will remove this AD User from the Active Directory

**Note #2** Use the parameter **ShowFields** to select user fields to show. This optional argument is a comma-separated string with the name of the fields you want to be returned
- Example: ShowFields=All or ShowFields=* : Return all User Fields
- Example: ShowFields=Username,Firstname : Return Only Username and Firstname Fields
- Example: ShowFields=Null or Empty : Return Default Fields (Username, Firstname, Lastname, Display_Name, Description, Company, Office, Department, Email_Address)

**Note #3** you cannot set both `change_password_next_logon = true` and `password_never_expires = true` as is not supported by Active Directory

**Note #4** for the Universal Naming Convention (UNC) path of servers in the Profile and the RDS variables use twice backslashes as usual. For example, instead of using `\\`, use `\\\\` and use `\\` instead of `\`

## Schema

### Required

- `password` (String) - Password
- `username` (String) - AD Username

### Optional

- `change_password_next_logon` (Boolean) Force the User to Change the Password in the Next Logon
- `city` (String) City
- `company` (String) Company Name
- `country` (String) Country (use the English Name of the Country)
- `department` (String) Company Department
- `description` (String) User Description
- `display_name` (String) User Display Name
- `email_address` (String) User Email Address
- `first_name` (String) User First Name
- `guid` (String) User GUID
- `home_folder_directory` (String) Home Folder Directory
- `home_folder_drive` (String) Home Folder Drive
- `home_folder_path` (String) Home Folder Path
- `home_phone` (String) Home Phone
- `initials` (String) User Middle Name Initial
- `job_title` (String) Job Title
- `last_name` (String) User Last Name
- `manager` (String) - Manager Name
- `mobile_phone` (String) Mobile Phone
- `office` (String) Office Information
- `office_phone` (String) Office Phone
- `ou_path` (String) OU Path (Distinguished Name) of the User
- `password_never_expired` (Boolean) Status of the Password Never Expired Setting
- `postal_code` (String) Postal/ZIP Code
- `profile_logon_script` (String) Profile Logon Script
- `profile_path` (String) Profile Path
- `rds_allow_logon` (Boolean) Remote Desktop Allow Logon
- `rds_connect_drive` (Boolean) Remote Desktop Connect Drive
- `rds_home_folder_drive` (String) Remote Desktop Home Folder
- `rds_home_folder_path` (String) Remote Desktop Folder Path
- `rds_profile_path` (String) Remote Desktop Profile Path
- `sam_username` (String) SAM Account Name (Used by Previous Versions of Windows)
- `state` (String) State or Province
- `street_address` (String) Street Address
- `street_po_box` (String) PO Box Address
- `username` (String) Username

### Read-Only

- `id` (String) The ID of this Resource
- `result` (List of Objects) Single AD User (see [below for nested schema](#nestedatt--result))

<a id="nestedatt--result"></a>
### Nested Schema for `result`

Read-Only:

- `change_password_next_logon` (Boolean) Status of Change Password Next Logon Setting
- `city` (String) City
- `company` (String) Company Name
- `country` (String) Country (use the English Name of the Country)
- `department` (String) Company Department
- `description` (String) User Description
- `display_name` (String) User Display Name
- `email_address` (String) User Email Address
- `first_name` (String) User First Name
- `guid` (String) User GUID
- `home_folder_directory` (String) Home Folder Directory
- `home_folder_drive` (String) Home Folder Drive
- `home_folder_path` (String) Home Folder Path
- `home_phone` (String) Home Phone
- `initials` (String) User Middle Name Initial
- `job_title` (String) Job Title
- `last_name` (String) User Last Name
- `manager` (String) - Manager Name
- `mobile_phone` (String) Mobile Phone
- `office` (String) Office Information
- `office_phone` (String) Office Phone
- `ou_path` (String) OU Path (Distinguished Name) of the User
- `password_never_expired` (Boolean) Status of the Password Never Expired Setting
- `postal_code` (String) Postal/ZIP Code
- `profile_logon_script` (String) Profile Logon Script
- `profile_path` (String) Profile Path
- `rds_allow_logon` (Boolean) Remote Desktop Allow Logon
- `rds_connect_drive` (Boolean) Remote Desktop Connect Drive
- `rds_home_folder_drive` (String) Remote Desktop Home Folder
- `rds_home_folder_path` (String) Remote Desktop Folder Path
- `rds_profile_path` (String) Remote Desktop Profile Path
- `sam_username` (String) SAM Account Name (Used by Previous Versions of Windows)
- `state` (String) State or Province
- `street_address` (String) Street Address
- `street_po_box` (String) PO Box Address
- `username` (String) Username
